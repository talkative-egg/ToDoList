(()=>{"use strict";(()=>{const e=document.querySelector("#content"),t=s({id:"main-content"});let n;function a(e,t){const n=document.createElement(`${e}`);return n.textContent=t,n}function s(e={}){const t=document.createElement("div");return e.id&&(t.id=e.id),e.class&&(t.className=e.class),e.text&&(t.textContent=e.text),t}function c(e){const t=document.createElement("button");return t.textContent=e,t}function i(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function d(e){const t=document.querySelector("#project-container");i(t);const c=a("h1","Projects"),d=document.createElement("hr"),l=s({id:"projects"});Object.values(e).forEach((function(e){if("All Tasks"===e.getName()||e.getName()===n.getName()){const t=s({class:"project",text:`${e.getName()}`});l.appendChild(t)}else{const t=s({id:"delete-project-container"}),n=s({class:"project",text:`${e.getName()}`});n.style.width="90%",n.style.margin="0";const a=document.createElement("img");a.setAttribute("src","../images/delete.png"),a.setAttribute("alt","delete"),a.addEventListener("click",(function(t){events.emit("deleteProject",e.getName())})),t.appendChild(n),t.appendChild(a),l.appendChild(t)}}));const p=document.createElement("img");p.setAttribute("src","../images/confirm.png"),p.setAttribute("alt","confirm"),p.addEventListener("click",(function(t){o(e),r()})),t.appendChild(c),t.appendChild(d),t.appendChild(l),t.appendChild(p),r()}e.appendChild(t);const o=e=>{let n,o=null!=document.querySelector("#project-container");o?(n=document.querySelector("#project-container"),i(n)):n=s({id:"project-container"});const r=a("h1","Projects"),l=document.createElement("hr"),p=s({id:"projects"});Object.values(e).forEach((function(e){const t=s({class:"project",text:`${e.getName()}`});t.addEventListener("click",(function(t){events.emit("renderTasks",e),events.emit("setProjectTab",e)})),p.appendChild(t)}));const u=c("Add Project"),m=c("Delete Project");n.appendChild(r),n.appendChild(l),n.appendChild(p),n.appendChild(u),n.appendChild(m),u.addEventListener("click",(function(e){const t=s({id:"new-project"});u.style.display="none",m.style.display="none";const a=document.createElement("input");a.setAttribute("type","text"),a.setAttribute("placeholder","Project Name");const c=document.createElement("img");c.setAttribute("src","../images/confirm.png"),c.setAttribute("alt","confirm"),c.addEventListener("click",(function(e){events.emit("newProject",a.value)})),t.appendChild(a),t.appendChild(c),n.appendChild(t)})),m.addEventListener("click",(function(t){d(e)})),o||t.prepend(n)};function r(e=n){const t=document.querySelectorAll(".project");let a=!1;t.forEach((function(t){t.textContent==e.getName()?(t.style.boxShadow="none",a=!0,n=e):t.style.boxShadow="3px 1px #000000"})),a||(t[0].style.boxShadow="none",n=t[0])}function l(e,t){const n=document.createElement("label");return n.textContent=t,n.setAttribute("for",e),n}function p(e,t,n,a){const s=document.createElement("input");return s.setAttribute("type",e),s.setAttribute("placeholder",t),s.setAttribute("name",n),s.id=n,s.required=a,s}events.on("init",(()=>{const t=document.createElement("nav"),n=s(),c=document.createElement("img");c.setAttribute("src","../images/icon.png"),c.setAttribute("alt","logo"),n.appendChild(c),n.appendChild(a("p","ToDoList")),t.appendChild(n),t.appendChild(a("p","Peter Chen")),e.prepend(t)})),events.on("renderProjects",o),events.on("renderTasks",(n=>{let d,o=null!=document.querySelector("#task-container");o?(d=document.querySelector("#task-container"),i(d)):d=s({id:"task-container"});const r=a("h1",`${n.getName()}`),u=document.createElement("hr"),m=s({id:"tasks"});Object.values(n.getTasks()).forEach((function(e){const t=function(e,t,n,c=!1){const i=s({class:"task"}),d=s({class:"finish-button"});c&&(d.style.backgroundImage='url("../images/check.png")',d.style.backgroundSize="cover",i.style.backgroundColor="lightgrey"),d.addEventListener("click",(function(){'url("../images/check.png")'===d.style.backgroundImage?(d.style.backgroundImage="none",i.style.backgroundColor="white",events.emit("taskStatus",{taskName:e,status:!1})):(d.style.backgroundImage='url("../images/check.png")',d.style.backgroundSize="cover",i.style.backgroundColor="lightgrey",events.emit("taskStatus",{taskName:e,status:!0}))}));const o=s({class:"task-description"}),r=a("h2",`${e}`),l=a("p",`${t}`);o.appendChild(r),o.appendChild(l);const p=s({class:"due-date"});return p.appendChild(a("p","Due Date:")),p.appendChild(a("p",`${n}`)),i.appendChild(d),i.appendChild(o),i.appendChild(p),i}(e.getTitle(),e.getDescription(),e.getDueDate(),e.getStatus());m.appendChild(t)}));const h=c("Add Task");m.appendChild(h),d.appendChild(r),d.appendChild(u),d.appendChild(m),h.addEventListener("click",(function(t){!function(t){const n=s({id:"myForm"}),c=document.createElement("form");c.id="form-container";const i=a("h1","New Task"),d=l("title","Task Name: "),o=p("text","Task Name","title",!0),r=l("description","Task Description: "),u=document.createElement("textarea");u.setAttribute("placeholder","Task Descripiton"),u.setAttribute("name","description"),u.id="description";const m=l("dueDate","Due Date: "),h=p("date","","dueDate",!0),g=document.createElement("img");g.setAttribute("src","../images/confirm.png"),g.setAttribute("alt","confirm");const C=document.createElement("img");C.setAttribute("src","../images/cancel.png"),C.setAttribute("alt","cancel"),c.appendChild(i),c.appendChild(d),c.appendChild(document.createElement("br")),c.appendChild(o),c.appendChild(document.createElement("br")),c.appendChild(r),c.appendChild(document.createElement("br")),c.appendChild(u),c.appendChild(document.createElement("br")),c.appendChild(m),c.appendChild(document.createElement("br")),c.appendChild(h),c.appendChild(document.createElement("br")),c.appendChild(g),c.appendChild(C),n.appendChild(c),e.appendChild(n),g.addEventListener("click",(function(a){t.containsTask(o.value)?alert("already has this task"):""!=o.value?(events.emit("newTask",{title:o.value,description:u.value,dueDate:h.value,project:t.getName()}),e.removeChild(n)):alert("must have a title")})),C.addEventListener("click",(function(t){e.removeChild(n)}))}(n)})),o||t.appendChild(d)})),events.on("setProjectTab",r),events.on("renderDeleteProjects",d)})();const e=e=>{const t={},n=e;return{addTask:(e,n)=>{t[e]=n},setTaskProperty:(e,n)=>{t[e].setProperty(n)},setTaskStatus:(e,n)=>{t[e].setStatus(n)},deleteTask:e=>{void 0!==t[e]&&delete t[e]},containsTask:e=>!!t[e],getName:()=>n,getTasks:()=>t}};(()=>{const t={},n=e("All Tasks"),a=a=>{const s=e(a);t[a]=s,events.emit("renderProjects",Object.assign({},{defaultProject:n,...t})),events.emit("setProjectTab",Object.assign({},t[a])),events.emit("renderTasks",Object.assign({},t[a]))},s=({title:e,description:a,dueDate:s,project:c})=>{const i=((e,t,n)=>{let a=e,s=t,c=n,i=!1;return{setProperty:e=>{for(let t in e)switch(t){case"title":a=e[t];break;case"description":s=e[t];break;case"dueDate":c=e[t]}},setStatus:e=>{i=e},getTitle:()=>a,getDescription:()=>s,getDueDate:()=>c,getStatus:()=>i}})(e,a,s);n.addTask(e,i),t[c]?(t[c].addTask(e,i),events.emit("renderTasks",Object.assign({},t[c]))):events.emit("renderTasks",Object.assign({},n))};events.on("init",(()=>{s({title:"example1",description:"Lorem ipsum dolor sit Amet",dueDate:"today",project:""}),s({title:"example2",description:"Lorem ipsum dolor sit Amet",dueDate:"today",project:""}),a("Sample Project"),s({title:"example3",description:"Lorem ipsum dolor sit Amet",dueDate:"today",project:"Sample Project"}),events.emit("renderProjects",Object.assign({},{defaultProject:n,...t})),events.emit("renderTasks",Object.assign({},n)),events.emit("setProjectTab",Object.assign({},n))})),events.on("newProject",a),events.on("deleteProject",(e=>{void 0!==t[e]&&delete t[e],events.emit("renderDeleteProjects",Object.assign({},{defaultProject:n,...t}))})),events.on("newTask",s),events.on("taskStatus",(e=>{n.setTaskStatus(e.taskName,e.status)}))})(),events.emit("init")})();